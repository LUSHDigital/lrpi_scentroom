(this["webpackJsonplush-file-uploader"]=this["webpackJsonplush-file-uploader"]||[]).push([[0],{10:function(e,t,n){e.exports=n(16)},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(2),o=n(3),i=n(5),l=n(4),r=n(6),c=n(0),s=n.n(c),u=n(9),d=n.n(u);n(8),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var f=n(1),m=(n(15),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).openNotification=function(e){n.setState({isActive:!0,message:e}),n.timer=window.setTimeout((function(){n.setState({isActive:!1,message:""})}),8e3)},n.state={timer:null,isActive:!1,message:""},n}return Object(r.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.state.isActive?s.a.createElement("div",{className:"notification"},s.a.createElement("div",{className:"notification-body"},this.state.message)):null}}]),t}(c.PureComponent)),h=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).notificationRef=s.a.createRef(),n.fileChangeHandler=function(e){var t=e.target.files[0];n.setState({selectedFile:t})},n.colorChangeHandler=function(e){var t=e.target.value;n.setState({selectedCol:t})},n.handleSubmit=function(e){e.preventDefault();var t=new FormData;t.append("file",n.state.selectedFile),t.append("colour",n.state.selectedCol);var a=n.uploadFile(t),o=n.uploadCol(t);a&&o?n.notificationManager("Success: Audio and Colour Uploaded"):!a&&o?n.notificationManager("Error: Failed to upload audio file"):a&&!o?n.notificationManager("Error: Failed to upload colour"):a||o||n.notificationManager("Error: Upload failed")},n.state={selectedFile:null,selectedCol:"#011993"},n.fileChangeHandler=n.fileChangeHandler.bind(Object(f.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(f.a)(n)),n.colorChangeHandler=n.colorChangeHandler.bind(Object(f.a)(n)),n.distanceHandlerActive=n.distanceHandlerActive.bind(Object(f.a)(n)),n.distanceHandlerDeactive=n.distanceHandlerDeactive.bind(Object(f.a)(n)),n}return Object(r.a)(t,e),Object(o.a)(t,[{key:"distanceHandlerActive",value:function(){this.endpointRequest(!0)?this.notificationManager("Success: Activated"):this.notificationManager("Error: Could not activate")}},{key:"distanceHandlerDeactive",value:function(){this.endpointRequest(!1)?this.notificationManager("Success: Deactivated"):this.notificationManager("Error: Could not deactivate")}},{key:"render",value:function(){return s.a.createElement("div",{className:"form_body"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("label",null,"Select Music File"),s.a.createElement("br",null),s.a.createElement("input",{type:"file",id:"fileinput",name:"file",accept:".mp3,.mp4;",onChange:this.fileChangeHandler}),s.a.createElement("br",null),s.a.createElement("label",null,"Select Colour"),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("input",{type:"color",name:"colour",onChange:this.colorChangeHandler,value:this.state.selectedCol})," ",s.a.createElement("br",null),s.a.createElement("input",{type:"submit",value:"Upload",className:"inputbtn"})),s.a.createElement("br",null),s.a.createElement("button",{className:"tempSensorBtn",onClick:this.distanceHandlerActive}," ACTIVATE SENSOR"),s.a.createElement("button",{className:"tempSensorBtn",onClick:this.distanceHandlerDeactive}," DEACTIVATE SENSOR"),s.a.createElement("br",null),s.a.createElement(m,{ref:this.notificationRef}))}},{key:"endpointRequest",value:function(e){var t="";if(""!==(t=e?window.location.origin+"/start-test":window.location.origin+"/end-test"))var n={active:e};var a=fetch(t,{method:"POST",body:JSON.stringify(n)}).catch((function(e){console.log("Sensor Response Error: "+e)}));return 200===a.response||(console.log("Sensor Response Error: "+a),!1)}},{key:"uploadFile",value:function(e){var t=window.location.origin+"/uploadfile",n=fetch(t,{method:"POST",body:e}).catch((function(e){console.log("Upload File Error: "+e)}));return 200===n.response||(console.log("Upload File Error: "+n),!1)}},{key:"uploadCol",value:function(e){var t=window.location.origin+"/uploadcol",n=fetch(t,{method:"POST",body:e}).catch((function(e){console.log("Upload File Error: "+e)}));return 200===n.response||(console.log("Upload File Error: "+n),!1)}},{key:"notificationManager",value:function(e){this.notificationRef.current.openNotification(e)}}]),t}(s.a.Component),p=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(r.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"layout_header"},s.a.createElement("h1",null,"ScentRoom Uploader")),s.a.createElement(h,null))}}]),t}(s.a.Component);d.a.render(s.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,t,n){}},[[10,1,2]]]);
//# sourceMappingURL=main.84072389.chunk.js.map